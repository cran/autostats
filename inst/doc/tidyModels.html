<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>tidy xgboost</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">tidy xgboost</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(autostats)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(workflows)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tune)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rsample)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hardhat)</span></code></pre></div>
<p><code>autostats</code> provides convenient wrappers for modeling,
visualizing, and predicting using a tidy workflow. The emphasis is on
rapid iteration and quick results using an intuitive interface based off
the <code>tibble</code> and <code>tidy_formula</code>.</p>
<div id="prepare-data" class="section level1">
<h1>Prepare data</h1>
<p>Set up the iris data set for modeling. Create dummies and any new
columns before making the formula. This way the same formula can be use
throughout the modeling and prediction process.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">34</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a> iris <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  framecleaner<span class="sc">::</span><span class="fu">create_dummies</span>(<span class="at">remove_first_dummy  =</span> <span class="cn">TRUE</span>) <span class="ot">-&gt;</span> iris1</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 column(s) have become 2 dummy columns</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a> iris1 <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">tidy_formula</span>(<span class="at">target =</span> Petal.Length) <span class="ot">-&gt;</span> petal_form</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a> petal_form</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Petal.Length ~ Sepal.Length + Sepal.Width + Petal.Width + Species_versicolor + </span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     Species_virginica</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: 0x0000022b7ccbd018&gt;</span></span></code></pre></div>
<p>Use the rsample package to split into train and validation sets.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>iris1 <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  rsample<span class="sc">::</span><span class="fu">initial_split</span>() <span class="ot">-&gt;</span> iris_split</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>iris_split <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  rsample<span class="sc">::</span><span class="fu">analysis</span>() <span class="ot">-&gt;</span> iris_train</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>iris_split <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  rsample<span class="sc">::</span><span class="fu">assessment</span>() <span class="ot">-&gt;</span> iris_val</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>iris_split</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;Training/Testing/Total&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;112/38/150&gt;</span></span></code></pre></div>
</div>
<div id="fit-boosting-models-and-visualize" class="section level1">
<h1>Fit boosting models and visualize</h1>
<p>Fit models to the training set using the formula to predict
<code>Petal.Length</code>. Variable importance using gain for each
<code>xgboost</code> model can be visualized.</p>
<div id="xgboost-with-bayesian-hyperparameter-optimization" class="section level2">
<h2>xgboost with bayesian hyperparameter optimization</h2>
<p><code>auto_tune_xgboost</code> returns a workflow object with tuned
parameters and requires some postprocessing to get a traind
<code>xgb.Booster</code> object like <code>tidy_xgboost</code>. Tuning
iterations set to <code>1</code> just so the vignette builds quickly.
Default is <code>n_iter = 100</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>iris_train <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">auto_tune_xgboost</span>(<span class="at">formula =</span> petal_form, <span class="at">n_iter =</span> 7L, <span class="at">tune_method =</span> <span class="st">&quot;bayes&quot;</span>) <span class="ot">-&gt;</span> xgb_tuned_bayes</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>xgb_tuned_bayes <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  parsnip<span class="sc">::</span><span class="fu">fit</span>(iris_train) <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  hardhat<span class="sc">::</span><span class="fu">extract_fit_engine</span>() <span class="ot">-&gt;</span> xgb_tuned_fit_bayes</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>xgb_tuned_fit_bayes <span class="sc">%&gt;%</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize_model</span>()</span></code></pre></div>
</div>
<div id="xgboost-with-grid-search-hyperparameter-optimization" class="section level2">
<h2>xgboost with grid search hyperparameter optimization</h2>
<p><code>xgboost</code> also can be tuned using a grid that is created
internally using <code>dials::grid_max_entropy</code>. The
<code>n_iter</code> parameter is passed to <code>grid_size</code>.
Parallelization is highly effective in this method, so the default
argument <code>parallel = TRUE</code> is recommended.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>iris_train <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">auto_tune_xgboost</span>(<span class="at">formula =</span> petal_form, <span class="at">n_iter =</span> 5L,<span class="at">trees =</span> 20L, <span class="at">loss_reduction =</span> <span class="dv">2</span>, <span class="at">mtry =</span> .<span class="dv">5</span>, <span class="at">tune_method =</span> <span class="st">&quot;grid&quot;</span>, <span class="at">parallel =</span> <span class="cn">FALSE</span>) <span class="ot">-&gt;</span> xgb_tuned_grid</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>xgb_tuned_grid <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  parsnip<span class="sc">::</span><span class="fu">fit</span>(iris_train) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  parsnip<span class="sc">::</span><span class="fu">extract_fit_engine</span>() <span class="ot">-&gt;</span> xgb_tuned_fit_grid</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>xgb_tuned_fit_grid <span class="sc">%&gt;%</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize_model</span>()</span></code></pre></div>
</div>
<div id="xgboost-with-default-parameters" class="section level2">
<h2>xgboost with default parameters</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>iris_train <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_xgboost</span>(<span class="at">formula =</span> petal_form) <span class="ot">-&gt;</span> xgb_base</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; accuracy tested on a validation set</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .metric .estimator .estimate target      </span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;       </span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 ccc     standard       0.975 Petal.Length</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 rmse    standard       0.375 Petal.Length</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 rsq     standard       0.953 Petal.Length</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>xgb_base <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize_model</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="xgboost-with-hand-picked-parameters" class="section level2">
<h2>xgboost with hand-picked parameters</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>iris_train <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_xgboost</span>(petal_form, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">trees =</span> 250L, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">tree_depth =</span> 3L, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">sample_size =</span> .<span class="dv">5</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">mtry =</span> .<span class="dv">5</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">min_n =</span> <span class="dv">2</span>) <span class="ot">-&gt;</span> xgb_opt</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; accuracy tested on a validation set</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .metric .estimator .estimate target      </span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;       </span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 ccc     standard       0.979 Petal.Length</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 rmse    standard       0.347 Petal.Length</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 rsq     standard       0.964 Petal.Length</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>xgb_opt <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize_model</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="agtboost" class="section level2">
<h2>agtboost</h2>
<p>automated gradient descent boosting with information-criterion
heuristics that don’t need tuning</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>iris_train <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_agtboost</span>(petal_form) <span class="ot">-&gt;</span> agtb</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; no dummies were created</span></span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAMAAAAjXV6yAAAAzFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZmY6ZpA6kJA6kLY6kNtmAABmADpmAGZmOgBmOmZmZmZmkJBmkNtmtrZmtttmtv+QOgCQOjqQZmaQkDqQkGaQkLaQtpCQttuQ27aQ2/+2ZgC2Zjq2kDq2tma2tpC2ttu225C22/+2/7a2//++vr7bkDrbkGbbtmbbtpDb25Db29vb/7bb/9vb////tmb/25D/27b//7b//9v///8BsiUrAAAACXBIWXMAAA7DAAAOwwHHb6hkAAALFElEQVR4nO2dC5fbthWEuWs7FddpNmmk9dapTblJnYpt07oq66aJqEr8//+puBcPQhSpkfZFUjtzYi1FPC7xCQRwTgZkUlEHlfR9AUMXAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREFDfgIrE6nLZmrz+ffv5SNv5q9XR4Y6or6GBAyo6zkc6CdAR9TXUO6DDV3x6g+4VrkVDAvS/2yT56pMcff4ySS7+YDqH6VtT20W284n8K5LLT1HGyvagdTr9nJoCZZp8s6o2s6k5eLnwdb78VNmiF6nUF6qXoj99qUfmXFwiVD4oQGu5/ORiEe67bB/QizQRHD6jyAL62py7+CgJEwNIvmmG0mfVoi9vFZCv3v4AelSVvsrdygcAKAxB2/nF+6r6TyocTC8xVzqx/GJA8vvXGVUWUPK++iyNX6evVptZMllt/5pogfcS49XKFnX1+erNycnKJMuRQfLZZGlUPiRA5jbRE9ql/vvTH9OkBZAk7mT0gEzezczkk296UFX55XJtG5pfLGxRX8hVb09uZhNf517lAwAUrqR085n5KW03bwMkR1FGkRuDbEMNDAGkWIqLxTrNtGoBpNAKS9hVX9fsMu5VPkxA5hb5+k9//2X2SIDq6scFKFyjOwpjkNwrtvm2QXVGVRsg2+7dWywAqquPAU2bV+E0HEBmePzRTLK2WSuZbc3VF/JL5onO+HWDfEZXbh9Q8u3+IG0B6Q3sq4/7piTM5NRO5UMC5Hv3NMy+Aki+a8LLWw+ozqhqA/QidYvzaJq3gHTZ4KuvAbk6s2blgwJUrc0y5YX5xe3q7ke5sza3MhH/26z/fg1jUJRR1DoGyYrxk89qF4paVOsL1UeAZKF48X6v8v4BPYbcIP0wIiAgAgIiIKBzBPSgIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiCgngElPerIK3xcADD8v3oTAREQAREQAcHwBATCExAIT0AgPAGB8AQEwhMQCE9AIPyZAGo+ryFOeq17KnPZgVTqVs984s5tbhZRjvMGpG0sA6Goze6wkN2f+duJbAH1G2INIEl9PoC282zne3wofzZv/vlm6fvNcwW0mSWXS/NhOpNsoJ745m9mWbW+/vWDOf1qJedM6hc3f5aM69d/0w3X5w+olI3UmdxN2l8MkvJi4ftHPq0K+59Ck9TCpsozDsqOBxudDSA/SCuZm0AlOiwnVZ5J9zGf5pw5CLfY1aLzNjsbQL59a/vkIv0ux3UPWl//8sYPQ+ZcEQE6MA6dH6B6SJaOEfWg7YeP1yv32ehBzwmQjEHmi8CRYSWve1CV/1Yf8fR2WsVjkLu9ng2gyk5g27l9wNi380ySckFjV0mlzFd2aE5+d7OQjM8B0KOJgFB4AgLhCQiEJyAQnoBAeAIC4QkIhCcgEJ6AQHgCAuF71JFX+LgAxi8CAiIgIAICIiAgAgIa0jTf76V0qG9Ap6/cnlgEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEDgqvRFQV1vqYjsZod0rA14lIDyiX85UIuOAHSKT3qMgKwpvKuFBBR1HjWQV9sPP+gdt+MhD55gzbJ+/b2+nWudJr+ZvzvFSD5GQNJoHYKcgVxei7eZTXc95O6P95inU/F3qonT+ROPNJKPElCljCbeQK67NQrtVbUDON6tceN9rWoDnmWnGMnHCqiSFjoDuQIq7btymz0o8pg7I/l2Hhyu5wrI3hmuoZXb71NMdj3k+38aPeiMAdmXAOrgowZy+x7cbNdDHsETj7nF4cegE4zkYwQkr/DUt1UGA/lb/xrL2kNud7pMXZbQZ9Lki9OM5OMEtKt6S90xqrfWdYd/toD8bg4U/tkCkle+tm4CboQ/M0APH56AQHgCAuEJCIQnIBCegEB4AgLhCQiEp8Ns7CIgIAICIiAgAgIiIKABTfP9XkmX+gY09HUiASEREBABAREQEAEBERAQAQEREBABAREQEAEBucs6xg99TGL9DbmnXfixADroh37M8CMBdNgP/ZjhRwIodB5vhLaeZzWPZda/ak+UkalFTm/n371err+6vVyqLzpTD54apZ3LTAzSZfftOxZAkR9ajdDO86yPGVfboT9xo08ct2XUlHj9s0lPs6r2RTujtPMpuj9lh1doNIAq54f2NlbreXYsnDXTnJC21iomVTH1zwYOrlbn23ROV195hxtvTIDUNueM0D9bz3NRA7IntKcFRvoMe0ev9kU7z6bzSmu+tNNtNhZAwQ8d9aCqqnZ7kFPkPPzLx+uVS4x6UADki1tXdXv4kQCK/NA68jjPsw4iVws3BkUP2nYq7WC8dq8AcGNQAOSKO1d1e/iRAAp+aGeEdp7n3VlMTpQ7N8vmzTJ0L+uL3gHkijtXdXv40QByOs0I3dARvui98M8G0JG+6L3wZwnI7j1oTEzH+aL3wo8N0JOHJyAQnoBAeAIC4QkIhCcgEJ6AQHgCAuEJCISnw2zsIiAgAgIa0Bj0dDrpCh+r6Q8Q/u6J9yl6n8wPLwK6T3gCIqD7hScgArpfeAIioPuFJyACOgMREBABAREQEAEBERAQAQEREBABAREQUI+AdIeRUbtx72Dq3RNB6r76A1SIm1ZU+oOjU++eCFJb1Bug7TxcYFFvWTgq9e6JILVNvQGKtn20uGMPpt49EaS2iT0IqM8xyP2YHWPFgdS7J4LUFvU4i8nOIVH7L3kw9e6JIHVfXAcBERDQYAEVidu6V3TONrIVtEX55fLAHr48SSa6WDxyU8pQARW6vVG20e4D8sNI+4JY+Vwtdqb0qF4z9uR22/LgB+lDstOx7vNr6UFuBmrtQdrwXDdZd03zdofx4Kf5g/K/fv5q1XaLbWbSug5AmV/tdC0U7fmhLxQPKyzo8kn7GCR7PNvHIOk9xdn3oHBjuQcatGRIpu2ANrPLZcShWcyPQdGa+qCGCigseeVRB60Z1umL9llMn/SQdD3s4VxmsSMkL1Z6/CgjBvQ0IiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgIAICIiAgAgIiICACAiIgoCcH1PXw9r18x/5PwVaXyyk6HGmogO7d7KMFIhHQAAGt03ezRMwZ+jTvq49pYg1RYjqQh33f/OB9qLk1GWxm79yz9AtnSiiSxNt4pYF1hiqusKgrvFw2y7oychWHjDD9ADK9qNBr1vdxZAaNvn4jU9eduqP0d1Wrj3rxpID7JxayQt1BlpAF5BIrfZizq9DnsnarZllfZpA9aFpV7iOz7dTH6U9tsprotNk3C2sj0zPmwPsK7V9nEbOApsFwFioMuVyFjbJ1pQMElLnmKKAsOhuu2F92mST2rSb6zgVnCLLjmPtmAdVFQoUhlybslfVlBg9IDKk1IH/F+mFGi8t/pBGgKzvAO4dU0g7IVxhyWUDNsiMFFPegkK+9Bzl1A/K5WnqQPzsGQDpk5DtjkGttaV+3lEVtqcfloP1bzFUYcrnURtnxADI/aWMWc+2xnSeZ1u2XGUjeZKUTlnuZyT4gX6HPZROaZZvUOzQAQN+lbjTx6yBtT25WJ/qmhagtu+ug4INtAgoVulwuoVE2lMmHtQ5qqmPDxWAqJCAgAgLqHdDQRUBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBABAREQEAEBERAQAQEREBA/wdzouE/4odCfAAAAABJRU5ErkJggg==" /><!-- --></p>
</div>
</div>
<div id="predict-on-validation-set" class="section level1">
<h1>predict on validation set</h1>
<div id="make-predictions" class="section level2">
<h2>make predictions</h2>
<p>Predictions are iteratively added to the validation data frame. The
name of the column is automatically created using the models name and
the prediction target.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>xgb_base <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_predict</span>(<span class="at">newdata =</span> iris_val, <span class="at">form =</span> petal_form) <span class="ot">-&gt;</span> iris_val2</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; created the following column: Petal.Length_preds_xgb_base</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>xgb_opt <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_predict</span>(<span class="at">newdata =</span> iris_val2, petal_form) <span class="ot">-&gt;</span> iris_val3</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; created the following column: Petal.Length_preds_xgb_opt</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>agtb <span class="sc">%&gt;%</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tidy_predict</span>(<span class="at">newdata =</span> iris_val3, petal_form)<span class="ot">-&gt;</span> iris_val4</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>iris_val4 <span class="sc">%&gt;%</span> </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Sepal.Length&quot;                &quot;Sepal.Width&quot;                </span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] &quot;Petal.Length&quot;                &quot;Petal.Width&quot;                </span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] &quot;Species_versicolor&quot;          &quot;Species_virginica&quot;          </span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7] &quot;Petal.Length_preds_xgb_base&quot; &quot;Petal.Length_preds_xgb_opt&quot; </span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [9] &quot;Petal.Length_preds_agtb&quot;</span></span></code></pre></div>
</div>
<div id="predictions-with-eval_preds" class="section level2">
<h2>predictions with eval_preds</h2>
<p>Instead of evaluationg these prediction 1 by 1, This step is
automated with <code>eval_preds</code>. This function is specifically
designed to evaluate predicted columns with names given from
<code>tidy_predict</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>iris_val4 <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">eval_preds</span>() </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .metric .estimator .estimate model    target      </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;       </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 ccc     standard       0.983 agtb     Petal.Length</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 ccc     standard       0.980 xgb_base Petal.Length</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 ccc     standard       0.984 xgb_opt  Petal.Length</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 rmse    standard       0.319 agtb     Petal.Length</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 rmse    standard       0.352 xgb_base Petal.Length</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 rmse    standard       0.312 xgb_opt  Petal.Length</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7 rsq     standard       0.975 agtb     Petal.Length</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 rsq     standard       0.969 xgb_base Petal.Length</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9 rsq     standard       0.972 xgb_opt  Petal.Length</span></span></code></pre></div>
</div>
</div>
<div id="get-shapley-values" class="section level1">
<h1>get shapley values</h1>
<p><code>tidy_shap</code> has similar syntax to
<code>tidy_predict</code> and can be used to get shapley values from
<code>xgboost</code> models on a validation set.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>xgb_base <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy_shap</span>(<span class="at">newdata =</span> iris_val, <span class="at">form =</span> petal_form) <span class="ot">-&gt;</span> shap_list</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>shap_list<span class="sc">$</span>shap_tbl</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 38 × 5</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Width Species_versicolor Species_virginica</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;              &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1       -0.236     -0.0700       -1.97             0.0970          0.000452</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2       -0.284     -0.0764       -2.02             0.0954          0.000395</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3       -0.118     -0.0969       -2.04             0.0970          0.00137 </span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4       -0.244     -0.0778       -1.99             0.0970          0.000452</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5       -0.143     -0.0595       -2.08             0.0970          0.000452</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6       -0.281     -0.0627       -2.01             0.0970          0.000845</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7       -0.228     -0.0395       -1.90             0.0970          0.000856</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8       -0.260     -0.145        -2.04             0.0954          0.000351</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9       -0.223     -0.0909       -1.99             0.0954          0.000395</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       -0.281      0.272        -1.86             0.0960         -0.00104 </span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 28 more rows</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>shap_list<span class="sc">$</span>shap_summary</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 5</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name                  cor       var     sum sum_abs</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Petal.Width         0.955 2.29       8.43    53.7  </span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Sepal.Length        0.809 0.0875    -2.27     7.82 </span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Species_versicolor -0.934 0.0333     3.33     7.20 </span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Sepal.Width        -0.696 0.0148     0.310    3.25 </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Species_virginica  -0.326 0.0000230 -0.0427   0.107</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>shap_list<span class="sc">$</span>swarmplot</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>shap_list<span class="sc">$</span>scatterplots</span></code></pre></div>
<div id="understand-xgboost-with-other-functions-from-the-original-package" class="section level2">
<h2>understand xgboost with other functions from the original
package</h2>
<p>Overfittingin the base config may be related to growing deep
trees.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a> xgb_base <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  xgboost<span class="sc">::</span><span class="fu">xgb.plot.deepness</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a> xgb_base <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  xgboost<span class="sc">::</span><span class="fu">xgb.plot.deepness</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- -->
Plot the first tree in the model. The small in terminal leaves suggests
overfitting in the base model.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>xgb_base <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  xgboost<span class="sc">::</span><span class="fu">xgb.plot.tree</span>(<span class="at">model =</span> ., <span class="at">trees =</span> <span class="dv">1</span>)</span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
